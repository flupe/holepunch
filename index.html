<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>holepunch</title>
    <style>
body {
  font-family: monospace;
  background: #eee;
  max-width: 1180px;
  margin: 0 auto;
  padding: 30px 20px;

  display: grid;
  gap: 20px;
  grid-template-columns: 1fr 2fr;
}

h1 {
  ruby { ruby-position: under }
  rt   {}
}

main {
  text-align: right;
  padding-top: 20px;
  position: sticky;
  top: 0;
  left: 0;
  align-self: start;

  canvas { image-rendering: pixelated }
}

#punchcard {
  display: grid;
  max-width: 740px;
  height: auto;
  background: #fff;
  grid-template-columns: repeat(24, 1fr);
  margin: 1em;
  border: 2px solid #ccc;
  border-radius: 15px;
  padding: 40px 30px;

  span {
    padding: 0;
    border: 1px solid #000;
    aspect-ratio: 1 / 1;
    border-radius: 50%;

    &.punched {
      background: #000;
    }
  }
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
    </style>
  </head>
  <body>
    <main>
      <h1>
        <span class="sr-only">holepunch</span>
        <span aria-hidden="true">
          <ruby>⠓<rt>h</rt></ruby>
          <ruby>⠕<rt>o</rt></ruby>
          <ruby>⠇<rt>l</rt></ruby>
          <ruby>⠑<rt>e</rt></ruby>
          <ruby>⠏<rt>p</rt></ruby>
          <ruby>⠥<rt>u</rt></ruby>
          <ruby>⠝<rt>n</rt></ruby>
          <ruby>⠉<rt>c</rt></ruby>
          <ruby>⠓<rt>h</rt></ruby>
        </span>
      </h1>
      <p>
      <em>holepunch</em> is a small utility to generate knitting machine punchcards from designs made using Aseprite.
      It is especially useful for generating <em>double-jacquard</em> patterns.
      </p>
      <input type="file" id="filepick" accept=".aseprite">
      <br>
      <canvas id="canvas"></canvas>
    </main>
    <section id="punchcard"></section>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako_inflate.min.js" integrity="sha512-mlnC6JeOvg9V4vBpWMxGKscsCdScB6yvGVCeFF2plnQMRmwH69s9F8SHPbC0oirqfePmRBhqx2s3Bx7WIvHfWg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="main.js"></script>
  </body>
</html>
